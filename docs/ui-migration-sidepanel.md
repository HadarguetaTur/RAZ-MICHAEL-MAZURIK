# UI Migration: Side Panel - Manual Testing Checklist

**תאריך:** 23 בינואר 2026  
**מטרה:** בדיקות ידניות למיגרציה ממודאלים מרכזיים לפאנלים צדדיים

---

## ✅ Checklist כללי

### פתיחה וסגירה בסיסית
- [ ] **פתיחה**: לחיצה על כפתור "יצירה/עריכה" פותחת פאנל צדדי מימין (RTL)
- [ ] **סגירה ב-X**: לחיצה על כפתור X בכותרת סוגרת את הפאנל
- [ ] **סגירה ב-ESC**: לחיצה על מקש ESC סוגרת את הפאנל
- [ ] **סגירה ב-overlay**: לחיצה על הרקע האפור (overlay) סוגרת את הפאנל
- [ ] **סגירה בכפתור ביטול**: כפתור "ביטול" בפאנל סוגר את הפאנל

### Responsive
- [ ] **Desktop**: הפאנל נפתח מימין עם רוחב קבוע (480px או לפי הגדרה)
- [ ] **Mobile**: הפאנל תופס את כל המסך (full width) עם עיגול מלמעלה
- [ ] **Scroll**: תוכן ארוך ניתן לגלילה בתוך הפאנל

### Focus & Accessibility
- [ ] **Auto-focus**: כשהפאנל נפתח, האלמנט הראשון (input/button) מקבל focus
- [ ] **Tab navigation**: Tab עובד בתוך הפאנל
- [ ] **Body scroll lock**: כשהפאנל פתוח, הרקע לא ניתן לגלילה

---

## 📋 Checklist לפי מסך

### 1. Homework.tsx - הקצאת שיעורי בית

**מיקום**: טאב "שיעורי בית" → כפתור "+ הקצה שיעורי בית"

- [ ] **פתיחה**: לחיצה על "+ הקצה שיעורי בית" פותחת פאנל צדדי
- [ ] **כותרת**: "הקצאת משימה חדשה" מוצגת בכותרת
- [ ] **שדות טופס**:
  - [ ] בחירת תלמיד (StudentPicker) עובד
  - [ ] בחירת משימה מהספרייה עובד
  - [ ] בחירת מועד הגשה עובד
- [ ] **שמירה**:
  - [ ] לחיצה על "הקצה משימה" קוראת ל-`handleAssign`
  - [ ] Validation עובד (אין תלמיד/משימה/תאריך → הודעת שגיאה)
  - [ ] אחרי שמירה מוצלחת: הפאנל נסגר, הטופס מתאפס, הודעת הצלחה מוצגת
- [ ] **ביטול**: לחיצה על "ביטול" סוגרת את הפאנל בלי לשמור
- [ ] **Loading state**: בזמן שמירה, כפתור "הקצה משימה" מציג "שומר..." ומבוטל

---

### 2. Availability.tsx - עריכת חלון זמינות שבועי

**מיקום**: טאב "ניהול זמינות" → טאב "זמינות שבועי" → לחיצה על slot או "הוסף"

- [ ] **פתיחה**: לחיצה על slot קיים או "הוסף" פותחת פאנל צדדי
- [ ] **כותרת**: "עריכת חלון זמינות" או "חלון זמינות חדש" מוצגת
- [ ] **שדות טופס**:
  - [ ] יום בשבוע (disabled בעריכה)
  - [ ] בחירת מורה (required)
  - [ ] שעת התחלה ושעת סיום
  - [ ] סוג ברירת מחדל (פרטני/זוגי/קבוצתי)
  - [ ] checkbox "סלוט קבוע"
  - [ ] אם "סלוט קבוע" מסומן → שדה "תלמיד" מופיע
- [ ] **Validation**:
  - [ ] שמירה בלי מורה → הודעת שגיאה
  - [ ] שעת סיום לפני שעת התחלה → הודעת שגיאה
- [ ] **שמירה**: לחיצה על "שמור" קוראת ל-`handleSave`
- [ ] **ביטול**: לחיצה על "ביטול" סוגרת את הפאנל

---

### 3. Availability.tsx - עריכת חריג (Slot Inventory)

**מיקום**: טאב "ניהול זמינות" → טאב "חריגים וחד-פעמי" → לחיצה על event

- [ ] **פתיחה**: לחיצה על event בלוח השבועי פותחת פאנל צדדי
- [ ] **כותרת**: "עריכת חריג" מוצגת
- [ ] **שדות טופס**:
  - [ ] תאריך (required)
  - [ ] מורה (required)
  - [ ] שעת התחלה ושעת סיום (required)
  - [ ] סטטוס (פנוי/תפוס/חסום)
- [ ] **Validation**: שמירה בלי שדות חובה → כפתור שמור מבוטל
- [ ] **שמירה**: לחיצה על "שמור" קוראת ל-`handleSaveSlot`
- [ ] **ביטול**: לחיצה על "ביטול" סוגרת את הפאנל ומאפסת את `editingSlot`

---

### 4. Subscriptions.tsx - יצירה/עריכה מנוי

**מיקום**: טאב "ניהול מנויים" → כפתור "+ מנוי חדש" או "עריכה" על מנוי קיים

- [ ] **פתיחה**: לחיצה על "+ מנוי חדש" או "עריכה" פותחת פאנל צדדי
- [ ] **כותרת**: "מנוי חדש" או "עריכת מנוי" מוצגת
- [ ] **שדות טופס**:
  - [ ] בחירת תלמיד (required, StudentPicker)
  - [ ] סוג מנוי (dropdown)
  - [ ] סכום חודשי (text input)
  - [ ] תאריך התחלה
  - [ ] תאריך סיום
  - [ ] checkbox "השהות מנוי"
  - [ ] אם "השהות מנוי" מסומן → שדה "תאריך השהיה" מופיע
- [ ] **Validation**:
  - [ ] שמירה בלי תלמיד → הודעת שגיאה
  - [ ] תאריך סיום לפני תאריך התחלה → הודעת שגיאה
  - [ ] סכום חודשי לא תקין → הודעת שגיאה
- [ ] **שמירה**: לחיצה על "צור מנוי" או "שמור שינויים" קוראת ל-`handleSave`
- [ ] **ביטול**: לחיצה על "ביטול" סוגרת את הפאנל
- [ ] **Loading state**: בזמן שמירה, כפתור שמירה מציג "שומר..." ומבוטל

---

## 🔍 בדיקות נוספות

### RTL Support
- [ ] **כיוון פתיחה**: כל הפאנלים נפתחים מימין (בגלל RTL)
- [ ] **כפתור X**: כפתור X נמצא בצד שמאל (בגלל RTL)
- [ ] **טקסט**: כל הטקסטים מיושרים לימין

### Z-index & Overlay
- [ ] **Overlay**: הרקע האפור מופיע מעל כל התוכן
- [ ] **Z-index**: הפאנל מופיע מעל הכל (z-50)
- [ ] **Click outside**: לחיצה על overlay סוגרת את הפאנל

### State Management
- [ ] **Form reset**: אחרי שמירה מוצלחת, הטופס מתאפס
- [ ] **State cleanup**: אחרי סגירה, כל ה-state מתאפס
- [ ] **Multiple panels**: פתיחת פאנל שני סוגרת את הראשון (אם רלוונטי)

---

## 🐛 בעיות ידועות / הערות

### לא שונה (נשאר במרכז):
- **ConfirmDialog.tsx** - דיאלוגים קצרים נשארים במרכז המסך (זה נכון!)

### שינויים שבוצעו:
1. ✅ **Homework.tsx** - מודאל הקצאת שיעורי בית → Side Panel
2. ✅ **Availability.tsx** - מודאל עריכת חלון זמינות → Side Panel
3. ✅ **Availability.tsx** - מודאל עריכת חריג → Side Panel
4. ✅ **Subscriptions.tsx** - מודאל יצירה/עריכה מנוי → Side Panel

---

## 📝 תוצאות בדיקה

**תאריך בדיקה**: ___________  
**בודק**: ___________  
**גרסה**: ___________  

### סיכום:
- [ ] כל הבדיקות עברו
- [ ] יש בעיות (פרט למטה)
- [ ] צריך בדיקה נוספת

### בעיות שנמצאו:
1. 
2. 
3. 

---

**סיום בדיקה** ✅
